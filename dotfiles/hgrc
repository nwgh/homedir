[ui]
username = Nicholas Hurley <hurley@todesschaf.org>
ignore = ~/.hgignore
merge = internal:merge

[hooks]
pre-push = python:~/.hgext/mozprepush.py:mozprepush

[extensions]
transplant =
rebase =
color =
parentrevspec =
record =
pager =
mq =
relink =
purge =
progress =
histedit =
share =
strip =
shelve =
hgwatchman = ~/src/hgwatchman/hgwatchman
bzexport = ~/.mozbuild/version-control-tools/hgext/bzexport
reviewboard = ~/.mozbuild/version-control-tools/hgext/reviewboard/client.py
firefoxtree = ~/.mozbuild/version-control-tools/hgext/firefoxtree
mqext = ~/.mozbuild/version-control-tools/hgext/mqext
qimportbz = ~/.mozbuild/version-control-tools/hgext/qimportbz
prompt = ~/.hgext/prompt.py
debugshell = ~/.hgext/debugshell.py
try = ~/.hgext/try.py
evolve = ~/src/mutable-history/hgext/evolve.py
bundleclone = ~/.mozbuild/version-control-tools/hgext/bundleclone
push-to-try = ~/.mozbuild/version-control-tools/hgext/push-to-try
bzpost = ~/.mozbuild/version-control-tools/hgext/bzpost

[diff]
git = 1
showfunc = 1
unified = 8

[color]
qseries.applied = blue underline
qseries.unapplied = none
qseries.guarded = none

log.bookmark = yellow
log.tag = yellow
log.fxtree = yellow
log.activebookmark = yellow underline

changeset.public = red
changeset.secret = blue
changeset.draft = green

[pager]
pager = LESS='-FRXi' less
attend = annotate, cat, diff, export, glog, log, qdiff, help

[defaults]
commit = -v
annotate = -cuvd
qnew = -U

[alias]
apply = import --no-commit
qexport = export -g qtip
merge-base = log -r 'max(ancestor($1, $2))'
glog = log -r .:0
wip = log --graph --rev=wip --template=wip
deletebookmark = !$HG strip --no-backup -B $1 && $HG push -B $1

[mq]
git = yes

[mozilla]
ircnick = nwgh

[hostfingerprints]
bugzilla.mozilla.org = 7c:7a:c4:6c:91:3b:6b:89:cf:f2:8c:13:b8:02:c4:25:bd:1e:25:17
hg.mozilla.org = af:27:b9:34:47:4e:e5:98:01:f6:83:2b:51:c9:aa:d8:df:fb:1a:27
bitbucket.org = 46:de:34:e7:9b:18:cd:7f:ae:fd:8b:e3:bc:f4:1a:5e:38:d7:ac:24

[mqext]
mqcommit = auto

[revsetalias]
HEAD = .
wip = (parents(not public()) or not public() or . or head()) and (not obsolete() or unstable()^) and not closed()

[templates]
wip = '{label("changeset.{phase}", rev)} {author}{label("log.tag", if(tags,ifcontains("tip", tags, sub("tip ", "", sub(" tip", "", " {tags}")), " {tags}")))} {bookmarks % "{ifeq(bookmark, currentbookmark, label('log.activebookmark', bookmark), label('log.bookmark', bookmark))} "}\n{label(ifcontains(rev, revset('parents()'), 'desc.here'),desc|firstline)}'

[histedit]
defaultrev = only(.)

[bugzilla]
username = hurley@todesschaf.org

[bzpost]
excludetrees = try mozilla-inbound inbound integration/mozilla-inbound

%include ~/.local.hgrc
